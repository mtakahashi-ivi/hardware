<html>
    <head>
        <meta charset="UTF-8">
        <title>LED Control Sample</title>
    </head>
    <body>
        <!--LED制御用のボタン-->
        <input type="button" value="led1" onClick="button('led1')"> <br>
        <input type="button" value="led2" onClick="button('led2')"> <br>
        <input type="button" value="led3" onClick="button('led3')"> <br>
        <input type="button" value="reset" onClick="button('reset')"> <br>

        <script type="text/javascript">
            // ボタンが押された時に呼び出されるスクリプト
            function button(value) {
                // 使用するブラウザによってリクエストの投げ方を変更
                if( window.XMLHttpRequest ) {
                    request = new XMLHttpRequest();
                }
                else if( window.ActiveXObject ) {
                    try {
                        request = new ActiveXObject("Msxml2.XMLHTTP");
                    } catch( e ) {
                        try {
                            request = new  ActiveXObject("Msxml.XMLHTTP");
                        } catch( e ){}
                    }
                }

                // ポストメッセージを送信
                var send = 'code=' + value;
                request.open('POST','/serial',true);
                request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                request.setRequestHeader('Content-Length', send.length);
                request.setRequestHeader('Connection', 'close');
                request.send(send);
            }
        </script>
    </body>
</html>
